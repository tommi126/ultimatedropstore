<!-- Analytics placeholder: uses NEXT_PUBLIC_GA4_ID and NEXT_PUBLIC_META_PIXEL_ID env vars -->
<script>
(function(){ 
  try {
    const GA4 = '%NEXT_PUBLIC_GA4_ID%';
    if (GA4 && GA4 !== 'G-XXXXXXXX') {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', GA4);
      var s = document.createElement('script');
      s.src = 'https://www.googletagmanager.com/gtag/js?id=' + GA4;
      document.head.appendChild(s);
    }
    const META = '%NEXT_PUBLIC_META_PIXEL_ID%';
    if (META && META !== 'META_PIXEL_ID') {
      !(function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
      n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)})(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', META);
      fbq('track', 'PageView');
    }
  } catch(e) { console.error('Analytics init error', e); }
})();
</script>
<!-- Note: replace placeholders via build or set NEXT_PUBLIC_GA4_ID and NEXT_PUBLIC_META_PIXEL_ID in your env -->
